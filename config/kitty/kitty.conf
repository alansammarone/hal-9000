# Kitty Configuration

# Font Configuration
font_family      JetBrainsMono Nerd Font Mono
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        17.0

# Cursor
cursor_shape block
cursor_blink_interval 0

# Mouse
mouse_hide_wait 3.0
url_color #0087bd
url_style curly

# Window Layout
remember_window_size  yes

# Padding: top right bottom left (bottom handled by precmd escape sequences)
window_padding_width 10 10 10 10

# When cycling over split directions, only cycle between these
enabled_layouts horizontal,vertical

# Tab Bar
tab_bar_edge               top
tab_bar_margin_width       5.0
tab_bar_margin_height      7.5 7.5
tab_bar_style              custom
tab_bar_align              center
tab_bar_min_tabs           1
tab_title_template         "󰨸 {index} {title}"
active_tab_title_template  "󰅍 {index} {title}"
active_tab_font_style      normal

# Tab bar colors
tab_bar_background         #303030
tab_bar_margin_color       #303030
active_tab_foreground      #ffffff
inactive_tab_foreground    #ffffff
active_tab_background      #454545
inactive_tab_background    #303030

# Performance
repaint_delay 10
input_delay 3
sync_to_monitor yes

# Remote control allows scripts to query/control kitty via `kitty @ <command>`.
# Useful for automation and the new-tab-current-dir.sh experiment.
allow_remote_control yes
listen_on unix:/tmp/kitty

# Shell integration auto-updates tab titles based on directory/command
shell_integration enabled

# Bell
enable_audio_bell no
visual_bell_duration 0.0

# macOS Specific
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_traditional_fullscreen yes
macos_show_window_title_in window

# Don't confirm when closing tabs/windows
confirm_os_window_close 0

# Keybindings (iTerm2-like)
map cmd+n launch --type=os-window --cwd=$HOME/Code
map cmd+t launch --type=tab --cwd=$HOME/Code
map cmd+w close_tab

# Tab navigation
map cmd+opt+left previous_tab
map cmd+opt+right next_tab

# Tab reordering (iTerm-style)
map cmd+shift+left move_tab_backward
map cmd+shift+right move_tab_forward

# Direct tab access
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9
map cmd+0 goto_tab -1

# Splits
map cmd+d launch --location=vsplit --cwd=current
map cmd+shift+d launch --location=hsplit --cwd=current

# Other
map cmd+enter toggle_fullscreen
map cmd+k clear_terminal reset active

# Copy/Paste
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard

# Font size adjustment
map cmd+plus change_font_size all +1.0
map cmd+minus change_font_size all -1.0

# Reload config
map cmd+shift+r load_config_file

# Send Ctrl sequences
map cmd+r send_text all \x12

# Cmd+arrow keys for line navigation (iTerm-style behavior)
# Left sends Ctrl+A for beginning of line. Right sends the actual End key instead of
# Ctrl+E because Ctrl+E is bound to edit-command-line in zsh. Alt+arrows (word jumping)
# works automatically thanks to macos_option_as_alt above.
map cmd+left send_text all \x01
map cmd+right send_key end

# Shift+arrow keys for window (split) navigation
map shift+left neighboring_window left
map shift+right neighboring_window right
map shift+up neighboring_window up
map shift+down neighboring_window down

# Cmd+up/down scrolls back one line at a time
map cmd+up scroll_line_up
map cmd+down scroll_line_down

# Shift+Enter: Alt/ESC prefix + Enter for multiline input.
# Works in both Claude Code and shell. \x1b = ESC (Alt modifier), \r = carriage return.
map shift+enter send_text normal,application \x1b\r

# Tokyo Night Theme
foreground #c0caf5
background #1a1b26
selection_foreground #c0caf5
selection_background #33467c

# Black
color0 #15161e
color8 #414868

# Red
color1 #f7768e
color9 #f7768e

# Green
color2  #9ece6a
color10 #9ece6a

# Yellow
color3  #e0af68
color11 #e0af68

# Blue
color4  #7aa2f7
color12 #7aa2f7

# Magenta
color5  #bb9af7
color13 #bb9af7

# Cyan
color6  #7dcfff
color14 #7dcfff

# White
color7  #a9b1d6
color15 #c0caf5

# Extended colors
color16 #ff9e64
color17 #db4b4b
