# Kitty Configuration

# Font Configuration
font_family      JetBrainsMono Nerd Font Mono
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size        16.0

# Cursor
cursor_shape block
cursor_blink_interval 0

# Mouse
mouse_hide_wait 3.0
url_color #0087bd
url_style curly

# Window Layout
remember_window_size  yes
initial_window_width  640
initial_window_height 400
# Padding: top right bottom left (bottom handled by tmux status bar)
window_padding_width 20 20 20 20

# Tab Bar
tab_bar_edge bottom
tab_bar_style powerline
tab_powerline_style slanted
tab_title_template "{index}: {title}"

# Performance
repaint_delay 10
input_delay 3
sync_to_monitor yes

# Remote control allows scripts to query/control kitty via `kitty @ <command>`.
# Useful for automation and the new-tab-current-dir.sh experiment.
allow_remote_control yes
listen_on unix:/tmp/kitty

# Shell integration auto-updates tab titles based on directory/command. Normally loads
# automatically, but when using tmux needs manual loading in .zshrc (see that file).
shell_integration enabled

# Bell
enable_audio_bell no
visual_bell_duration 0.0

# macOS Specific
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_traditional_fullscreen yes

# Don't confirm when closing tabs/windows
confirm_os_window_close 0

# Keybindings (iTerm2-like)
map cmd+n launch --type=os-window --cwd=$HOME/Code
map cmd+t launch --type=tab --cwd=$HOME/Code
map cmd+w close_tab

# Tab navigation
map cmd+shift+[ previous_tab
map cmd+shift+] next_tab
map cmd+opt+left previous_tab
map cmd+opt+right next_tab

# Direct tab access
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9
map cmd+0 goto_tab -1

# Splits
map cmd+d launch --location=split --cwd=current
map cmd+shift+d launch --location=hsplit --cwd=current

# Other
map cmd+enter toggle_fullscreen
map cmd+k clear_terminal reset active

# Copy/Paste
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard

# Font size adjustment
map cmd+plus change_font_size all +1.0
map cmd+minus change_font_size all -1.0

# Reload config
map cmd+shift+r load_config_file

# Send Ctrl sequences
map cmd+r send_text all \x12

# Cmd+arrow keys for line navigation (iTerm-style behavior)
# Left sends Ctrl+A for beginning of line. Right sends the actual End key instead of
# Ctrl+E because Ctrl+E is bound to edit-command-line in zsh. Alt+arrows (word jumping)
# works automatically thanks to macos_option_as_alt above.
map cmd+left send_text all \x01
map cmd+right send_key end

# Cmd+up/down scrolls tmux's buffer one line at a time. We send Shift+up/down which tmux
# intercepts (see .tmux.conf). Can't use Kitty's native scroll actions because tmux owns
# the screen when it's running, so we need to send sequences tmux can catch and handle.
map cmd+up send_key shift+up
map cmd+down send_key shift+down

# Shift+Enter: Alt/ESC prefix + Enter for multiline input.
# Works in both Claude Code and shell. \x1b = ESC (Alt modifier), \r = carriage return.
map shift+enter send_text normal,application \x1b\r

# Tokyo Night Theme
foreground #c0caf5
background #1a1b26
selection_foreground #c0caf5
selection_background #33467c

# Black
color0 #15161e
color8 #414868

# Red
color1 #f7768e
color9 #f7768e

# Green
color2  #9ece6a
color10 #9ece6a

# Yellow
color3  #e0af68
color11 #e0af68

# Blue
color4  #7aa2f7
color12 #7aa2f7

# Magenta
color5  #bb9af7
color13 #bb9af7

# Cyan
color6  #7dcfff
color14 #7dcfff

# White
color7  #a9b1d6
color15 #c0caf5

# Extended colors
color16 #ff9e64
color17 #db4b4b
